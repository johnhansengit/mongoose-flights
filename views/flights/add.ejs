<%- include('../partials/header') %>

    <h2>Enter a New Flight</h2>
    <form action="/flights" method="POST">
        <div class="form-row">
            <label>Airline:</label>
            <select name="airline">
                <option value="American">American</option>
                <option value="Southwest">Southwest</option>
                <option value="United">United</option>
            </select>
        </div>
        <div class="form-row">
            <label>Airport:</label>
            <select name="airport">
                <option value="AUS">AUS</option>
                <option value="DFW">DFW</option>
                <option value="DEN" selected>DEN</option>
                <option value="LAX">LAX</option>
                <option value="SAN">SAN</option>
            </select>
        </div>
        <div class="form-row">
            <label>Flight Number:</label>
            <input type="Number" name="flightNo" min="10" max="9999">
        </div>
        <div class="form-row">
            <label>Departure Date:</label>
            <input type="datetime-local" name="departs" id="deptDateInput">
        </div>
        <div class="form-row">
            <button type="submit">Add Flight</button>
        </div>
    </form>
    <p>
        <%= errorMsg %>
    </p>

    <script>
        const departureDateInput = document.getElementById('deptDateInput');
        let dateInOneYear = new Date(new Date().setFullYear(new Date().getFullYear() + 1));
        let formattedDate = dateInOneYear.toISOString().slice(0, 16);
        departureDateInput.value = formattedDate;

    </script>

    <%- include('../partials/footer') %>